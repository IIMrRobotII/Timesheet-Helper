/* Foundation - Variables & Base Styles */

/* ===== CSS CUSTOM PROPERTIES ===== */
:root {
  /* Color Palette */
  --color-white: #ffffff;
  --color-gray-50: #f8f9fa;
  --color-gray-900: #1a1a1a;
  --color-gray-600: #6b7280;
  --color-gray-300: #e5e7eb;
  --color-gray-400: #9ca3af;
  --color-gray-700: #374151;
  --color-gray-800: #2d2d2d;
  --color-blue-500: #3b82f6;
  --color-blue-600: #2563eb;
  --color-blue-400: #60a5fa;
  --color-green-500: #10b981;
  --color-green-400: #34d399;
  --color-red-600: #dc3545;
  --color-red-400: #f87171;
  --color-yellow-500: #f59e0b;
  --color-yellow-400: #fbbf24;

  /* Semantic Colors */
  --surface-primary: var(--color-white);
  --surface-secondary: var(--color-gray-50);
  --text-primary: var(--color-gray-900);
  --text-secondary: var(--color-gray-600);
  --border-default: var(--color-gray-300);

  /* Action Colors */
  --action-primary: var(--color-blue-500);
  --action-primary-hover: var(--color-blue-600);
  --action-primary-text: var(--color-white);
  --action-danger: var(--color-red-600);

  /* Status Colors */
  --status-success: var(--color-green-500);
  --status-error: var(--color-red-600);
  --status-warning: var(--color-yellow-500);

  /* Spacing Scale */
  --space-sm: 5px;
  --space-md: 7px;
  --space-lg: 10px;
  --space-xl: 14px;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;

  /* Typography */
  --font-size-xs: 10px;
  --font-size-sm: 11px;
  --font-size-base: 12px;
  --font-size-md: 13px;
  --font-size-lg: 14px;
  --font-size-xl: 16px;
  --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --line-height-tight: 1;
  --line-height-normal: 1.3;
  --line-height-relaxed: 1.4;

  /* Animation */
  --transition-fast: 0.2s ease;
  --transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  /* Layout */
  --popup-width-collapsed: 180px;
  --popup-height-max: 580px;

  --direction: ltr;
}

/* RTL Direction Override */
[dir='rtl'] {
  --direction: rtl;
  --font-family-base: 'Segoe UI', Tahoma, Arial, 'Noto Sans Hebrew', 'David', sans-serif;
}

/* Dark Mode */
@media (prefers-color-scheme: dark) {
  :root {
    --surface-primary: var(--color-gray-900);
    --surface-secondary: var(--color-gray-800);
    --text-primary: var(--color-white);
    --text-secondary: var(--color-gray-400);
    --border-default: var(--color-gray-700);
    --action-primary-hover: var(--color-blue-400);
    --status-success: var(--color-green-400);
    --status-error: var(--color-red-400);
    --status-warning: var(--color-yellow-400);
  }
}

/* Theme Attribute Overrides */
[data-theme='dark'] {
  --surface-primary: var(--color-gray-900);
  --surface-secondary: var(--color-gray-800);
  --text-primary: var(--color-white);
  --text-secondary: var(--color-gray-400);
  --border-default: var(--color-gray-700);
}
[data-theme='light'] {
  --surface-primary: var(--color-white);
  --surface-secondary: var(--color-gray-50);
  --text-primary: var(--color-gray-900);
  --text-secondary: var(--color-gray-600);
  --border-default: var(--color-gray-300);
}

/* ===== BASE STYLES ===== */

/* Box Sizing */
* {
  box-sizing: border-box;
}

/* Body & Document */
body {
  font: var(--font-size-lg) / var(--line-height-relaxed) var(--font-family-base);
  margin: 0;
  padding: 0;
  width: var(--popup-width-collapsed);
  min-width: var(--popup-width-collapsed);
  max-height: var(--popup-height-max);
  background: var(--surface-primary);
  color: var(--text-primary);
  transition: width var(--transition-smooth);
  direction: var(--direction);
  overflow: hidden;
}

/* Typography */
h1 {
  font: var(--font-weight-semibold) var(--font-size-xl) / var(--line-height-tight) inherit;
  margin: 0;
  color: var(--text-primary);
}

/* Text Elements */
.guidance-text {
  font-size: var(--font-size-base);
  margin-bottom: var(--space-lg);
  color: var(--text-secondary);
  line-height: var(--line-height-normal);
}

.footer-text {
  font-size: var(--font-size-xs);
  color: var(--text-secondary);
  opacity: 0.8;
}

/* Animation Control */
.no-transition,
.no-transition * {
  transition: none !important;
  animation: none !important;
}
